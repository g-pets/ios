import{u as s}from"./store.e3bb54cf.js";import{_ as e,a}from"./navigationBarButton.a1acfb0e.js";import{_ as t,a as i}from"./listView.87198e87.js";import{p as o,e as n,f as r,b as l,c as m,d as c,t as d,w as g,o as v}from"./vendor.23464d0d.js";const p=g();o("data-v-d1fa127c");const u={class:"recents"},f={class:"message-body"},b={class:"header"},h={class:"full-name"},w={class:"last-name"},_={class:"first-name"},B={class:"time"},M={class:"message"};n();const x=p(((s,e,a,t,i,o)=>{const n=r("navigation-bar-button"),g=r("navigation-bar"),v=r("glyph"),x=r("list-view");return l(),m("div",u,[c(g,{title:`Messages (${t.records.length})`},{left:p((()=>[c(n,{label:"Edit"})])),right:p((()=>[c(n,{glyph:"plus"})])),_:1},8,["title"]),c(x,{list:t.records},{default:p((e=>[c("div",{class:"message-preview",onClick:s=>o.openConversation(e.item.contactID)},[c("div",{class:["message-badge",{unread:e.item.unreadMessage}]},null,2),c("div",f,[c("div",b,[c("div",h,[c("span",w,d(e.item.lastName)+"Â ",1),c("span",_,d(e.item.firstName),1)]),c("div",B,d(s.$unixTime(e.item.lastMessageDate)),1)]),c("div",M,d(o.messagePreview(e.item.messages[e.item.messages.length-1].text[0])),1)]),c(v,{name:"arrow_more"})],8,["onClick"])])),_:1},8,["list"])])}));const j={name:"textMessages",components:{navigationBar:e,navigationBarButton:a,toggleButton:t,listView:i},methods:{openConversation(s){this.$router.push({name:"textApp_conversation",params:{id:s}})},messagePreview:s=>s.substring(0,60)+"..."},setup(){document.title="All Messages | iOS";const{records:e,getRecords:a,sortRecords:t}=s("conversations");return v((()=>a())),t("lastMessageDate"),{records:e}}};j.render=x,j.__scopeId="data-v-d1fa127c";export default j;
