import{b as e,u as t,o,c as a,a as n,g as r,h as i}from"./vendor.7a90928c.js";import{g as s}from"./index.8f3a9f9e.js";import{o as l}from"./index.cc4b6a56.js";import{v as c,n as d}from"./workbox-window.prod.es5.28eaf433.js";async function f(){let e,t;try{return e=await s(),t=Object.keys(e),await async function(e){try{l("iOS",1,{upgrade(t){e.forEach((e=>{t.createObjectStore(e,{keyPath:"id",autoIncrement:!1}).createIndex("id","id")}))}})}catch(t){console.log(t)}}(t),t.forEach((t=>async function(e,t){try{const o=await l("iOS",1);let a=o.transaction(e,"readwrite");t.forEach((t=>a.objectStore(e).add(t))),o.close()}catch(o){console.log(o)}}(t,e[t]))),!0}catch(o){console.log(o)}finally{e=null,t=null}}const p=e({localStorage:!1,indexedDB:!1,fetchDataset:!1,serviceWorker:!1}),u=async()=>{try{const e=t();console.info("Installation..."),await setTimeout((function(){p.localStorage=function(){let e,t,o;try{if(o=window.localStorage,e="localStorageTest",o.setItem(e,e),t=o.getItem(e),e!==t)throw"LocalStorage not detected";return o.removeItem(e),!0}catch(a){throw console.error(a),Error}}(),console.log("1. localStorageTest")}),500),await setTimeout((function(){p.indexedDB=function(){try{if(!window.indexedDB)throw"IndexedDB not detected";return!0}catch(e){throw console.error(e),Error}}(),console.log("2. indexedDBTest")}),700),await setTimeout((function(){p.fetchDataset=f(),console.log("3. loadRandomData")}),1e3),await setTimeout((function(){p.serviceWorker=function(e={}){const{immediate:t=!1,onNeedRefresh:o,onOfflineReady:a}=e;let n,r;if("serviceWorker"in navigator){n=new c("/sw.js",{scope:"/"}),n.addEventListener("activated",(e=>{e.isUpdate||null==a||a()}));{const e=()=>{null==o||o()};n.addEventListener("waiting",e),n.addEventListener("externalwaiting",e)}n.register({immediate:t}).then((e=>r=e))}return async(e=!0)=>{e&&(null==n||n.addEventListener("controlling",(e=>{e.isUpdate&&window.location.reload()}))),r&&r.waiting&&await d(r.waiting,{type:"SKIP_WAITING"})}}(),console.log("4. registerSW")}),1500),await setTimeout((function(){localStorage.setItem("installed",!0),e.push({name:"lockScreen"}),console.log("5. Router")}),2e3),console.log("Installed!")}catch(e){console.error("Application not installed")}},g={class:"screen screen-loading"},w=n("svg",{class:"apple-logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 929 1144"},[n("path",{d:"M911.49 890.2c-16.72 40.18-36.5 77.16-59.43 111.16-31.24 46.36-56.83 78.44-76.54 96.26-30.57 29.24-63.32 44.22-98.39 45.07-25.17 0-55.53-7.45-90.87-22.57-35.46-15.05-68.04-22.5-97.84-22.5-31.24 0-64.76 7.45-100.6 22.5-35.9 15.12-64.82 23-86.93 23.78-33.63 1.49-67.15-13.91-100.6-46.28-21.36-19.38-48.07-52.6-80.07-99.66-34.33-50.26-62.56-108.54-84.67-174.98C11.87 751.2 0 681.72 0 614.43 0 537.38 16 470.9 48.06 415.2c25.2-44.74 58.72-80.03 100.67-105.94 41.95-25.91 87.28-39.12 136.1-39.96 26.7 0 61.73 8.6 105.26 25.49 43.4 16.95 71.28 25.55 83.5 25.55 9.13 0 40.1-10.05 92.58-30.1C615.8 271.66 657.69 263.97 692 267c89.1 7.48 156.97 42.81 203.37 106.21 3.33 4.56 1.97 10.94-2.72 14.09-77.36 52-115.62 123.56-114.82 214.43.75 73.38 26.33 134.44 76.61 182.92 20.54 20.29 43.24 36.42 68.25 48.45a10.23 10.23 0 015.39 12.45 865.87 865.87 0 01-16.6 44.66z"}),n("path",{fill:"url(#paint0_radial)",d:"M895.49 895.35c-16.11 38.73-35.18 62.38-57.28 95.16-30.11 44.68-54.77 75.61-73.77 92.78-29.46 28.19-61.02 42.63-94.82 43.45-24.26 0-53.53-8.18-87.59-22.76-34.17-14.5-65.57-21.69-94.29-21.69-30.12 0-62.42 7.19-96.96 21.69-34.6 14.58-62.48 23.17-83.79 23.92-32.4 1.44-64.71-13.41-96.96-44.61-20.58-18.68-46.32-50.7-77.16-96.07-33.1-48.44-60.3-104.62-81.6-168.67C28.43 749.38 17 682.4 17 617.53c0-74.29 15.43-138.36 46.32-192.05 24.29-43.13 56.6-77.15 97.03-102.13 40.43-24.97 84.12-37.7 131.16-38.51 25.75 0 59.5 8.28 101.46 24.57 41.83 16.34 68.7 25.62 80.47 25.62 8.8 0 38.64-9.68 89.23-29 47.84-17.92 88.2-26.33 121.28-23.41 85.88 7.21 147.3 27.27 192.01 88.38 3.21 4.4 1.9 10.54-2.62 13.58C798.78 434.71 764 520.5 764 604.5c0 61 18 127 76.52 189.1 19.8 19.55 41.67 35.1 65.78 46.7a9.86 9.86 0 015.19 12 834.2 834.2 0 01-16 43.05z"}),n("path",{fill:"url(#paint1_radial)",stroke:"#fff","stroke-width":"10",d:"M623.62 168.47c-30.53 34.16-67.34 56.94-97.79 69.87-15.22 6.46-28.72 10.4-38.91 12.1-5.12.85-9.23 1.11-12.23.9-2.98-.2-4-.79-4.14-.87h-.02a4.28 4.28 0 01-.6-1.18c-.34-.86-.67-2.06-.95-3.65-.55-3.19-.81-7.5-.63-12.84.34-10.64 2.39-24.78 6.7-40.85 8.6-32.14 26.15-71.52 56.62-105.63 30.43-34.06 68.73-55.6 100.26-67.88 15.75-6.13 29.71-9.9 40-11.77a78.26 78.26 0 0112.2-1.4c1-.02 1.8.01 2.39.07.13.66.25 1.54.35 2.68.25 2.97.25 7.17-.11 12.43-.73 10.49-2.9 24.77-7.18 41.06-8.58 32.61-25.54 72.9-55.97 106.96zM687.63 5.53l-.07-.02.07.02zm-1.4-1.24a.17.17 0 010 0z"}),n("path",{fill:"url(#paint2_linear)","fill-rule":"evenodd",d:"M800 308.5c5.3 2.95 9 4.5 14.5 7.5-38.83 9.15-227.17 58.39-425.28 209.07C189.69 684.28 79.15 897.47 71.43 912.64a732.26 732.26 0 01-14.6-32.73c7.26-12.94 134.93-237.55 319.89-367.16C533.74 391.1 756.2 321.75 800 308.5z","clip-rule":"evenodd"}),n("defs",null,[n("radialGradient",{id:"paint0_radial",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(587.91516 653.06512 -692.75007 623.64113 139.4 393.96)",gradientUnits:"userSpaceOnUse"},[n("stop",{offset:".29","stop-color":"#F6F7F6"}),n("stop",{offset:"1","stop-color":"#C5C2BC"})]),n("radialGradient",{id:"paint1_radial",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(-108.27585 252.26162 -162.31042 -69.66695 624.38 2.35)",gradientUnits:"userSpaceOnUse"},[n("stop",{offset:".27","stop-color":"#F6F7F6"}),n("stop",{offset:"1","stop-color":"#C7C4BE"})]),n("linearGradient",{id:"paint2_linear",x1:"367.67",x2:"-6.96",y1:"520.75",y2:"583.13",gradientUnits:"userSpaceOnUse"},[n("stop",{"stop-color":"#C4C1BC"}),n("stop",{offset:"1","stop-color":"#77746A"})])])],-1),m={class:"progress-container"};const h={name:"viewLoading",setup(){r((()=>u()));return{installationProgress:i((()=>(100/Object.keys(p).length*Object.values(p).filter(Boolean).length).toFixed())),installationState:p}},render:function(e,t,r,i,s,l){return o(),a("div",g,[w,n("div",m,[n("div",{class:"progress-bar",style:`width:${i.installationProgress}%`},null,4)])])}};export default h;
