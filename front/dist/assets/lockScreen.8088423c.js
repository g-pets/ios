import{d as e}from"./appState.6a729c54.js";import{o as t,c as n,a as o,u as a,l as s,g as l,r,t as u}from"./vendor.7a90928c.js";import{d as c}from"./index.e804eee7.js";const d={class:"slide-to-unlock",ref:"container"},i=o("svg",{class:"arrow",fill:"none",viewBox:"0 0 160 160"},[o("path",{d:"M6 54h81V26l67 54-67 54v-28H6V54z"})],-1),v=o("div",{class:"text"},"slide to unlock",-1);const m={setup(){const{unlockedDevice:e}=c();document.addEventListener("touchmove",(e=>e.preventDefault()),{passive:!1});const t=a(),n=s(null),o=s(null);let r=null,u=null,d=s(null),i=s(),v="ontouchstart"in document.documentElement;function m(e){return!0===v?e.touches[0].pageX:e.clientX}function g(e){r=n.value.getBoundingClientRect(),u=o.value.getBoundingClientRect();var t=m(e);d={start:u.left-r.left,mouseStart:t,newX:0},o.value.classList.add("dragging"),document.addEventListener("mousemove",f,!1),document.addEventListener("touchmove",f,!1),document.addEventListener("mouseup",p),document.addEventListener("touchend",p)}function p(e){o.value.classList.remove("dragging"),!1!==e&&(o.value.style.left="0px",i.value=0),document.removeEventListener("mousemove",f,!1),document.removeEventListener("touchmove",f,!1),document.removeEventListener("mouseup",p),document.removeEventListener("touchend",p)}function f(n){var a,s,l,c=m(n)-d.mouseStart,v=r.width-u.width-7,f=d.start+c;a=f,s=0,l=v,f=Math.min(Math.max(a,s),l);o.value.style.left=f+"px",i.value=f,f>=v&&async function(){o.value.classList.remove("unlocked"),p(!1),o.value.removeEventListener("mousedown",g),o.value.removeEventListener("touchstart",g),await t.push({name:"homeScreen"}),e(!0)}()}return l((()=>e(!1))),{container:n,toggle:o,dragStart:g,sliderStyle:i}},render:function(e,a,s,l,r,u){return t(),n("div",d,[o("div",{class:"toggle",ref:"toggle",onMousedown:a[1]||(a[1]=(...e)=>l.dragStart&&l.dragStart(...e)),onTouchstartPassive:a[2]||(a[2]=(...e)=>l.dragStart&&l.dragStart(...e))},[i],544),o("div",{class:"overlay",style:{opacity:(l.sliderStyle/300).toFixed(2)}},null,4),v],512)}},g={class:"view view-lockscreen"},p={class:"top-panel panel-glow"},f={class:"time"},h={class:"date"},L={class:"bottom-panel panel-glow"};const w={name:"LockScreen",components:{slideToUnlock:m},setup:()=>({dateTime:e}),render:function(e,a,s,l,c,d){const i=r("slideToUnlock");return t(),n("div",g,[o("div",p,[o("div",f,u(l.dateTime.time),1),o("div",h,u(l.dateTime.date),1)]),o("div",L,[o(i)])])}};export default w;
