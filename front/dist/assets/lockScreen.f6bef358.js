import{d as e,a as t}from"./deviceState.039492a6.js";import{o as n,c as o,a,u as s,l,g as r,r as u,t as c}from"./vendor.326f3398.js";const d={class:"slide-to-unlock",ref:"container"},i=a("svg",{class:"arrow",fill:"none",viewBox:"0 0 160 160"},[a("path",{d:"M6 54h81V26l67 54-67 54v-28H6V54z"})],-1),v=a("div",{class:"text"},"slide to unlock",-1);const m={setup(){const{unlockedDevice:t}=e();document.addEventListener("touchmove",(e=>e.preventDefault()),{passive:!1});const n=s(),o=l(null),a=l(null);let u=null,c=null,d=l(null),i=l(),v="ontouchstart"in document.documentElement;function m(e){return!0===v?e.touches[0].pageX:e.clientX}function g(e){u=o.value.getBoundingClientRect(),c=a.value.getBoundingClientRect();var t=m(e);d={start:c.left-u.left,mouseStart:t,newX:0},a.value.classList.add("dragging"),document.addEventListener("mousemove",f,!1),document.addEventListener("touchmove",f,!1),document.addEventListener("mouseup",p),document.addEventListener("touchend",p)}function p(e){a.value.classList.remove("dragging"),!1!==e&&(a.value.style.left="0px",i.value=0),document.removeEventListener("mousemove",f,!1),document.removeEventListener("touchmove",f,!1),document.removeEventListener("mouseup",p),document.removeEventListener("touchend",p)}function f(e){var o,s,l,r=m(e)-d.mouseStart,v=u.width-c.width-7,f=d.start+r;o=f,s=0,l=v,f=Math.min(Math.max(o,s),l);a.value.style.left=f+"px",i.value=f,f>=v&&async function(){t(!0),a.value.classList.remove("unlocked"),p(!1),a.value.removeEventListener("mousedown",g),a.value.removeEventListener("touchstart",g),await n.push({name:"homeScreen"})}()}return r((()=>t(!1))),{container:o,toggle:a,dragStart:g,sliderStyle:i}},render:function(e,t,s,l,r,u){return n(),o("div",d,[a("div",{class:"toggle",ref:"toggle",onMousedown:t[1]||(t[1]=(...e)=>l.dragStart&&l.dragStart(...e)),onTouchstartPassive:t[2]||(t[2]=(...e)=>l.dragStart&&l.dragStart(...e))},[i],544),a("div",{class:"overlay",style:{opacity:(l.sliderStyle/300).toFixed(2)}},null,4),v],512)}},g={class:"view view-lockscreen"},p={class:"top-panel panel-glow"},f={class:"time"},h={class:"date"},L={class:"bottom-panel panel-glow"};const w={name:"LockScreen",components:{slideToUnlock:m},setup:()=>({dateTime:t}),render:function(e,t,s,l,r,d){const i=u("slideToUnlock");return n(),o("div",g,[a("div",p,[a("div",f,c(l.dateTime.time),1),a("div",h,c(l.dateTime.date),1)]),a("div",L,[a(i)])])}};export default w;
